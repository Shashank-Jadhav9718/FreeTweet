{% extends "layout.html" %}

{% block title %}{% if form.instance.pk %}Edit Tweet{% else %}Create Tweet{% endif %}{% endblock %}

{% block content %}
<div class="card shadow-lg" data-bs-theme="light">
    <div class="card-body p-4 p-md-5">
        
        <h2 class="card-title text-center mb-4 text-dark">
            {% if form.instance.pk %}
                Edit Your Tweet
            {% else %} 
                Create a New Tweet
            {% endif %}
        </h2>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            
            <div class="mb-3">
                <label for="{{ form.text.id_for_label }}" class="form-label text-dark">{{ form.text.label }}</label>
                {{ form.text }} <!-- Gets 'form-control' class from forms.py -->
                {% for error in form.text.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>
            
            <div class="mb-3">
                <label for="{{ form.photo.id_for_label }}" class="form-label text-dark">{{ form.photo.label }}</slabel>
                {{ form.photo }} <!-- Gets 'form-control' class from forms.py -->
                {% for error in form.photo.errors %}
                    <div class="invalid-feedback d-block">{{ error }}</div>
                {% endfor %}
            </div>
            
            <div class="d-grid gap-2 d-md-flex justify-content-between mt-4">
                <a href="{% url 'tweet_list' %}" class="btn btn-outline-secondary">
                    Cancel
                </a> 
                <button class="btn btn-primary" type="submit">
                    {% if form.instance.pk %}Save Changes{% else %}Post Tweet{% endif %}
                </button>
            </div>

        </form>
    </div>
</div>
{% endblock %}
